<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" sizes="16x16" th:href="@{/images/BTV.ico}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" />
    <!-- <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" /> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->

    <link rel="stylesheet" href="styles.css" />

    <title>Manual CG</title>
</head>

<body class="bg-gray-100">
    <div class="min-h-screen flex items-center justify-center pt-8 pb-8">
        <div id="utama" class="max-w-sm w-full p-6 bg-white rounded-lg shadow-lg mr-5">
            <div class="flex justify-center mb-8">
            </div>
            <h1 class="text-2xl font-semibold text-center text-gray-500 mt-8 mb-6">Manual CG</h1>
            <form id="tempatlagi">
                <div class="mb-4">
                    <label class="block mb-2 text-sm text-gray-600">Chanel</label>
                    <select id="chan"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500">
                        <option class="dark:text-white" value="" disabled selected>--Select--</option>
                        <option value="btv">BTV</option>
                        <option valu="idtv">IDTV</option>
                    </select>
                </div>
                <div id='bstv' style="display: none;">
                    <div class="mb-4">
                        <label class="block mb-2 text-sm text-gray-600">Program</label>
                        <select id="prog"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500">
                            <option class="dark:text-white" value="" disabled selected>--Select--</option>
                            <option>BS Pagi</option>
                            <option>BS Siang</option>
                            <option>BS Malam</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block mb-2 text-sm text-gray-600">CG</label>
                        <!-- <input type="text" id="apellido" name="apellido" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500" required> -->
                        <select id="opsicg"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500">
                            <option class="dark:text-white" value="" disabled selected>--Select--</option>
                            <option value="101001101">BTV_REG_CG_TITLE</option>
                            <option value="101001102">BTV_REG_CG_BERITA</option>
                            <option value="101001103">BTV_REG_CG_2_LINE</option>
                            <option value="101001104">BTV_REG_CG_3_LINE</option>
                            <option value="101001105">BTV_REG_CG_SELANJUTNYA</option>
                            <option value="101001106">BTV_REG_CG_HIGHLIGHTS</option>
                            <option value="101001107">BTV_REG_CG_TERKINI</option>
                            <option value="101001108" disabled>BTV_REG_CG_TITLE_ATRIBUSI</option>
                            <option value="101001301">BTV_SPLIT_2</option>
                            <option value="101001302">BTV_SPLIT_3</option>
                            <option value="101001303">BTV_SPLIT_4</option>
                            <option value="101001304">BTV_SPLIT_3_INSERT</option>
                            <option value="101001305">BTV_SPLIT_4_INSERT</option>
                        </select>
                    </div>
                </div>

                <div id='indtv' style="display: none;">
                    <div class="mb-4">
                        <label class="block mb-2 text-sm text-gray-600">Program</label>
                        <select id="prog"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500">
                            <option class="dark:text-white" value="" disabled selected>--Select--</option>
                            <option>Market Open</option>
                            <option>Market Break</option>
                            <option>Market Close</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block mb-2 text-sm text-gray-600">CG</label>
                        <!-- <input type="text" id="apellido" name="apellido" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500" required> -->
                        <select id="opsicg"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500">
                            <option class="dark:text-white" value="" disabled selected>--Select--</option>
                            <option value="2101101">IDTV_REG_CG_TITLE</option>
                            <option value="2101102">IDTV_REG_CG_ATRIBUSI</option>
                            <!-- <option value="101001103">BTV_REG_CG_2_LINE</option> -->
                            <option value="2101103">IDTV_REG_CG_3_BRS_SUMMARY</option>
                            <option value="2101104">IDTV_REG_CG_POPUP_ATRIBUSI</option>
                            <option value="2101105">IDTV_REG_CG_BERITA</option>
                            <option value="2101106">IDTV_REG_CG_UP_NEXT</option>
                            <!-- <option value="101001108" disabled>BTV_REG_CG_TITLE_ATRIBUSI</option> -->
                            <option value="2102301">IDTV_SPLIT_2</option>
                            <option value="2102302">IDTV_SPLIT_3</option>
                            <option value="2102304">IDTV_SPLIT_4</option>
                            <option value="2102303">IDTV_SPLIT_3_INSERT</option>
                            <option value="2102306">IDTV_SPLIT_4_INSERT</option>
                            <option value="2102305">IDTV_SPLIT_4_BOX</option>
                            <option value="2102308">IDTV_SPLIT_INSERT_KIRI</option>
                            <option value="2102309">IDTV_SPLIT_INSERT_KANAN</option>
                        </select>
                    </div>
                </div>
            
            </form>
            <button type="button" id="addbtn"
                class="py-2 px-4 mt-2 bg-green-500 text-white rounded hover:bg-green-700 mr-2"><i class="fas"></i>
                Add</button>
            <div class="text-center">
            </div>
            <p class="text-xs text-gray-600 text-center mt-8">&copy; 2023 IT Apps</p>
        </div>

        <div id="kedua" class="max-w-xl w-full p-6 bg-white rounded-lg shadow-lg">
            <h1 id="title" class="text-xl font-bold"></h1>
            <div class="table-responsive">
                <table class="table table-bordered table-striped" id="tabledata" width="100%" cellspacing="0">
                    <thead>
                        <tr>
                            <th>Info</th>
                            <th>CG</th>
                        </tr>
                    </thead>

                    <!-- <tbody th:each="dat:${dataMap}">
                    <td th:text="${popr.PO}"></td>
                    <td th:text="${popr.PR}"></td>
                    <td th:text="${popr.Item_Name}"></td>
                  </tbody> -->
                </table>
            </div>
            <button type="button" id="export"
                class="py-2 px-4 mt-2 bg-blue-500 text-white rounded hover:bg-blue-700 mr-2">
                Export to XML</button>
        </div>
    </div>
</body>
<!-- <script type="text/javascript" th:src="@{/js/jquery-3.3.1.min.js}"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
    integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

<!-- <script src="/js/login.js"></script> -->

<script th:inline="javascript">
    /*<![CDATA[*/
    $(document).ready(function () {

    })
    var b = document.getElementById('kedua')
    var c = document.getElementById('utama')
    b.style.minHeight = (c.clientHeight + 'px')
    // console.log($("#utama").height())

    $("#chan").change(function(){
        var chan = $(this).val();
        if(chan == 'btv'){
            document.getElementById('bstv').style.display = 'block'
            document.getElementById('indtv').style.display = 'none'
        } else {
            document.getElementById('bstv').style.display = 'none'
            document.getElementById('indtv').style.display = 'block'
        }
    })


    $("#opsicg").change(function () {
        var opval = $(this).val();
        console.log(opval)
        switch (opval) {
            case '101001101':
                $("#tmpt").remove()
                // Action for BTV_REG_CG_TITLE
                console.log('Selected: BTV_REG_CG_TITLE');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Title</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        maxlength="46" required aria-placeholder="Max 46 character">
                        <small class='text-gray-300'>Max 46 character</small>
                </div>`)
                break;
            case '101001102':
                $("#tmpt").remove()

                // Action for BTV_REG_CG_BERITA
                console.log('Selected: BTV_REG_CG_BERITA');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Location</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="65" aria-placeholder="Max 65 character">
                        <small class='text-gray-300'>Max 65 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">News Info</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="41" aria-placeholder="Max 41 character">
                        <small class='text-gray-300'>Max 41 character</small>

                </div>`)
                break;
            case '101001103':
                $("#tmpt").remove()
                // Action for BTV_REG_CG_2_LINE
                console.log('Selected: BTV_REG_CG_2_LINE');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Upperline</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="46" aria-placeholder="Max 46 character">
                        <small class='text-gray-300'>Max 46 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Lowerline</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="70" aria-placeholder="Max 70 character">
                        <small class='text-gray-300'>Max 70 character</small>

                </div>`)
                break;
            case '101001104':
                $("#tmpt").remove()
                // Action for BTV_REG_CG_2_LINE
                console.log('Selected: BTV_REG_CG_3_LINE');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Location</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="60" aria-placeholder="Max 60 character">
                        <small class='text-gray-300'>Max 60 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Upperline</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="46" aria-placeholder="Max 46 character">
                        <small class='text-gray-300'>Max 46 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Lowerline</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="70" aria-placeholder="Max 70 character">
                        <small class='text-gray-300'>Max 70 character</small>

                </div>`)
                break;
            case '101001105':
                $("#tmpt").remove()
                // Action for BTV_REG_CG_2_LINE
                console.log('Selected: BTV_REG_CG_SELANJUTNYA');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Selanjutnya</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="46" aria-placeholder="Max 46 character">
                        <small class='text-gray-300'>Max 46 character</small>

                </div>`)
                break;
            case '101001106':
                $("#tmpt").remove()
                // Action for BTV_REG_CG_2_LINE
                console.log('Selected: BTV_REG_CG_HIGHLIGHTS');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Title Highligth</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="65" aria-placeholder="Max 65 character">
                        <small class='text-gray-300'>Max 65 character</small>

                </div>`)
                break;
            case '101001107':
                $("#tmpt").remove()
                // Action for BTV_REG_CG_2_LINE
                console.log('Selected: BTV_REG_CG_TERKINI');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Title Terkini</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="65" aria-placeholder="Max 65 character">
                        <small class='text-gray-300'>Max 65 character</small>

                </div>`)
                break;
            // case '101001108':
            //     $("#tmpt").remove()
            //     // Action for BTV_REG_CG_2_LINE
            //     console.log('Selected: BTV_REG_CG_TITLE_ATRIBUSI');
            //     $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
            //         <label class="block mb-2 text-sm text-gray-600">Title Atribusi</label>
            //         <input type="text" name="isi[]"
            //             class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
            //             required>
            //     </div>`)
            //     break;
            case '101001301':
                $("#tmpt").remove()
                // Action for BTV_REG_CG_2_LINE
                console.log('Selected: BTV_SPLIT_2');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Kiri</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="32" aria-placeholder="Max 32 character">
                        <small class='text-gray-300'>Max 32 character</small>


                        <label class="block mb-2 mt-2 text-sm text-gray-600">Kanan</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="32" aria-placeholder="Max 32 character">
                        <small class='text-gray-300'>Max 32 character</small>

                </div>`)
                break;
            case '101001302':
                $("#tmpt").remove()
                // Action for BTV_REG_CG_2_LINE
                console.log('Selected: BTV_SPLIT_3');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Kiri</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="32" aria-placeholder="Max 32 character">
                        <small class='text-gray-300'>Max 32 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Tengah</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="32" aria-placeholder="Max 32 character">
                        <small class='text-gray-300'>Max 32 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Kanan</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="32" aria-placeholder="Max 32 character">
                        <small class='text-gray-300'>Max 32 character</small>

                </div>`)
                break;
            case '101001303':
                $("#tmpt").remove()
                // Action for BTV_REG_CG_2_LINE
                console.log('Selected: BTV_SPLIT_4');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Window 01</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="25" aria-placeholder="Max 25 character">
                        <small class='text-gray-300'>Max 25 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Window 02</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="25" aria-placeholder="Max 25 character">
                        <small class='text-gray-300'>Max 25 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Window 03</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="25" aria-placeholder="Max 25 character">
                        <small class='text-gray-300'>Max 25 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Window 04</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="25" aria-placeholder="Max 25 character">
                        <small class='text-gray-300'>Max 25 character</small>

                </div>`)
                break;
            case '101001304':
                $("#tmpt").remove()
                // Action for BTV_REG_CG_2_LINE
                console.log('Selected: BTV_SPLIT_3_INSERT');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Kiri</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="50" aria-placeholder="Max 50 character">
                        <small class='text-gray-300'>Max 50 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Tengah</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="32" aria-placeholder="Max 32 character">
                        <small class='text-gray-300'>Max 32 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Kanan</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="32" aria-placeholder="Max 32 character">
                        <small class='text-gray-300'>Max 32 character</small>

                </div>`)
                break;
            case '101001305':
                $("#tmpt").remove()
                // Action for BTV_REG_CG_2_LINE
                console.log('Selected: BTV_SPLIT_4_INSERT');
                $("#tempatlagi").append(`<div id="tmpt" class="mb-4 mt-3">
                    <label class="block mb-2 text-sm text-gray-600">Window 01</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="25" aria-placeholder="Max 25 character">
                        <small class='text-gray-300'>Max 25 character</small>

                        <label class="block mb-2 text-sm mt-2 text-gray-600">Window 02</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="25" aria-placeholder="Max 25 character">
                        <small class='text-gray-300'>Max 25 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Window 03</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="25" aria-placeholder="Max 25 character">
                        <small class='text-gray-300'>Max 25 character</small>

                        <label class="block mb-2 mt-2 text-sm text-gray-600">Window 04</label>
                    <input type="text" name="isi[]"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"
                        required maxlength="25" aria-placeholder="Max 25 character">
                        <small class='text-gray-300'>Max 25 character</small>

                </div>`)
                break;
            // Add more cases as needed
            default:
                // Default action if the selected value doesn't match any case
                console.log('Selected: Default Action');
        }

    })

    paket = []

    $("#addbtn").on("click", function () {
        data = [];

        var kode = $("#opsicg option:selected")
        var program = $("#prog option:selected")

        var datanya = document.getElementsByName("isi[]");
        // console.log(datanya.length)
        for (var i = 0; i < datanya.length; i++) {
            var a = datanya[i].value;
            data.push(a);
        }
        // console.log(kode.text())
        // $("#kedua").append(`<h3>${program.text()}</h3>`)
        document.getElementById('title').innerText = program.text()
        var tableBody = document.getElementById("tabledata");
        // console.log(data.length)
        var row = document.createElement("tr");
        var nameCell = document.createElement("td");
        nameCell.className = 'border'
        nameCell.textContent = kode.text();
        row.appendChild(nameCell);

        var ageCell = document.createElement("td");
        ageCell.textContent = data;
        row.appendChild(ageCell);

        tableBody.appendChild(row);



        $.ajax({
            url: `/saveData?nama=${program.val()}&key=${kode.val()}&data=${data}`,
            method: 'POST',
            success: function () {
                document.getElementById('prog').setAttribute('disabled', '')
                fetch(`/getData`)
                    .then(response => response.json()) // Assuming your API returns the days left as JSON
                    .then(data => {
                        console.log(data)
                        // var tableBody = document.getElementById("tabledata");
                        // for(var i =0; i <data.length; )
                    })
                    .catch(error => {
                        console.error(error);
                    });
            }
        })

    })

    $("#export").on('click', function () {
        window.location.href = '/saveXml';
        setTimeout(function () {
            location.reload();
        }, 1000);
    });





    /*]]>*/
</script>




</html>